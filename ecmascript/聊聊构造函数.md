# 聊聊构造函数

先上神图

![](https://github.com/WoolYang/wool-blog/blob/master/image/prototype.png)
(图片来自网络)

图中看还剩下一环没有讲到，构造函数。什么是构造函数？构造函数有什么特性？构造函数和普通函数有什么区别？构造函数和对象有什么关系？下面来详细聊聊这个JavaScript中打通原型和原型链网关系的最后一环——构造函数。

# 什么是构造函数？

ecmascript规范4.2.1
> Even though ECMAScript includes syntax for class definitions, ECMAScript objects are not fundamentally class-based such as those in C++, Smalltalk, or Java. Instead objects may be created in various ways including via a literal notation or via constructors which create objects and then execute code that initializes all or part of them by assigning initial values to their properties. Each constructor is a function that has a property named "prototype" that is used to implement prototype-based inheritance and shared properties. 

大意为
> ECMAScript包含定义类的语法，但ECMAScript中对象基本上不是像例如C ++，Smalltalk或Java中的对象是基于类的。ECMAScript中可以通过各种方式创建对象，包括通过字面量语法或构造器语法创建对象，然后执行通过为其属性分配初始值来初始化全部或部分的代码。每个构造函数都是一个函数，它具有一个名为“prototype”的属性，用于实现基于原型的继承和共享属性。

构造函数就是JavaScript用于创建对象以及实现基于原型的继承和共享属性的存在。之前我们通过字面量语法创建对象跟构造函数创建有什么区别呢？
例如
```js
    var a = {}
    var b = new Object()
```
这两种方式创建出的对象并无差异，Object是一个内置构造函数，在JavaScript中还有其他内置构造函数。字面量语法的存在其实是一种更优雅，简洁，高效的可以创建对象的语法糖，本质上还是通过内置构造函数Object来构建一个新的实例对象并将原型指向其Object.prototype属性上。规范明确说明构造函数是函数，拥有名为“prototype”的属性，只一点也可以清楚的解释字面量语法创建对象的根本原理是一样的。
这样理解后，可以得出一个总结，JavaScript本质上都是借助构造函数创建对象，语法实现本身提供了基本的内置构造函数以及语法糖来构建基本的对象还实现使用方法的共享，以及开发者也可以编写自己的构造函数构建出特定的对象，以及实现继承和共享属性。

# 构造函数有什么特性？